# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Commands

### Development
- `npm install` - Install dependencies
- `npm run dev` - Start the Vite dev server with hot reload
- `npm run build` - Run TypeScript compilation and Vite production build
- `npm run lint` - Run ESLint for code linting
- `npm run check` - Full validation: TypeScript check, build, and dry-run deployment
- `npm run cf-typegen` - Generate Cloudflare Workers types

### Deployment
- `wrangler deploy` - Deploy to Cloudflare Workers

## Architecture Overview

This is a rencfs (Secure Encrypted Filesystem) website built as a full-stack application:

### Frontend (React SPA)
- **Location**: `src/react-app/`
- **Framework**: React 19 with TypeScript, React Router v7
- **Styling**: Tailwind CSS with PostCSS
- **Components**: Modular components in `components/` directory
- **Pages**: Route-based pages in `pages/` directory for Home, Features, Installation, Documentation, Security, Performance, Community, and Development
- **Build**: Vite with React plugin, outputs SPA with single-page-application fallback handling

### Backend (Cloudflare Worker)
- **Location**: `src/worker/`
- **Framework**: Hono web framework
- **Entry**: `src/worker/index.ts`
- **Database**: D1 database binding named `DB`
- **Config**: `wrangler.jsonc` with Node.js compatibility

### Key Configuration Files
- **TypeScript**: Multi-config setup with separate configs for app (`tsconfig.app.json`), Node tooling (`tsconfig.node.json`), and worker (`tsconfig.worker.json`)
- **Path Alias**: `@/` maps to `./src/` directory
- **Vite Plugins**: Mocha plugins, React, and Cloudflare integration

### Development Flow
1. Frontend assets are built by Vite and served as static files
2. Worker handles API routes and serves the SPA
3. D1 database available for persistent storage
4. Cloudflare deployment includes source maps and observability

The project was initially generated by mocha.app and is structured for deployment on Cloudflare's edge network.